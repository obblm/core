{% extends '@ObblmCore/base.html.twig' %}

{% block body %}
    {% set team = create_rule_team(rule, roster) %}
    <h1>{{ team|roster_name|trans({}, rule.ruleKey) }}</h1>
    {% embed '@ObblmCore/team/table.' ~ rule.template ~ '.html.twig' with { 'team': team,  'players': team.availablePlayers } %}
        {% block player_head_number %}<th>Max</th>{% endblock %}
        {% block player_head_name %}{% endblock %}
        {% block player_head_injuries %}{% endblock %}
        {% block player_head_spp %}{% endblock %}
        {% block player_line %}
            {% embed '@ObblmCore/team/player-line.' ~ rule.template ~ '.html.twig' with { 'player': player } %}
                {% block number %}<td>0-{{ max_position_type(rule, player) }}</td>{% endblock %}
                {% block name %}{% endblock %}
                {% block injuries %}{% endblock %}
                {% block spp %}{% endblock %}
            {% endembed %}
        {% endblock %}
    {% endembed %}
    <h2>Available star players</h2>
    {% set star_players = get_star_players(team) %}
    {% embed '@ObblmCore/team/table.' ~ rule.template ~ '.html.twig' with { 'team': team,  'players': star_players } %}
        {% block player_head_number %}{% endblock %}
        {% block player_head_type %}{% endblock %}
        {% block player_head_injuries %}{% endblock %}
        {% block player_head_spp %}{% endblock %}
        {% block player_line %}
            {% embed '@ObblmCore/team/player-line.' ~ rule.template ~ '.html.twig' with { 'player': player } %}
                {% block number %}{% endblock %}
                {% block name %}<td class="left aligned editable">{{ player.name|trans({}, rule.ruleKey) }}</td>{% endblock %}
                {% block type %}{% endblock %}
                {% block injuries %}{% endblock %}
                {% block spp %}{% endblock %}
            {% endembed %}
        {% endblock %}
    {% endembed %}
{% endblock %}